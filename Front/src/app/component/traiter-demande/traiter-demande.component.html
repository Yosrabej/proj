
<h1 class="conatiner">les demandes de télétravail</h1>
<br>
<div class="container">
  <div class="row">
    <div class="search-hero">
      <input type="text" name="search" [(ngModel)]="searchText" placeholder="Chercher....">
  </div>
  <div class="alert alert-success" role="alert" *ngIf='showAlert==true'>
    Demande validée!
  </div>
  <div class="alert alert-danger" role="alert" *ngIf='showAlertRefused==true'>
    Demande refusée!
  </div>
  <div class="alert alert-danger" role="alert" *ngIf='showAlertRefused==true'>
    Action annulée!
  </div>
  <div *ngIf="loader==true" >

    <div class="d-flex justify-content-center">

        <div class="spinner-border" role="status">

          <span class="sr-only"></span>

        </div>

      </div>

</div>
<table class="table table-striped" *ngIf='loader==false'>
    <thead>
    <tr>
    <th>id</th>
    <th>raison</th>
    <th>dateDebut</th>
    <th>dateFin</th>
    <th>adresse</th>
    <th>user</th>
    <th>status demande</th>
    <th>action</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor='let a of demandes | filter:searchText | paginate: { itemsPerPage: 5, currentPage: p }'> 
    <td>{{a.id}}</td>
    <td>{{a.raison}}</td>
    <td>{{a.dateDebut }}</td>
    <td>{{a.dateFin  }}</td>
    <td>{{a.adresse }}</td>
    <td>{{a.user}}</td>
    <td>{{a.status | json}}</td>
    <td>
<div style="display: flex; ">

<button (click)=" validate (a.id)" class="btn btn-success" style="margin-right: 20px;"  ><i class="bi bi-send-check-fill"></i></button>
        <button (click)="refuse(a.id)" class="btn btn-danger" style="margin-right: 20px;" ><i class="bi bi-send-x-fill "></i></button>
        <button (click)="cancelValidation(a.id)" class="btn btn-primary" >Annuler</button></div>
    </tr>
    </tbody>
    </table>
    <div class="conatiner">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </div>









